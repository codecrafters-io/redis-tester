Debug = true

[33m[stage-44] [0m[94mRunning tests for Stage #44: xu1[0m
[33m[stage-44] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-44] [0m[94m$ redis-cli xadd pear 0-1 temperature 70[0m
[33m[stage-44] [0m[92mReceived response: "0-1"[0m
[33m[stage-44] [0m[94m$ redis-cli xread block 0 streams pear 0-1[0m
[33m[stage-44] [0m[94m$ redis-cli xadd pear 0-2 temperature 70[0m
[33m[stage-44] [0m[92mReceived response: "0-2"[0m
[33m[stage-44] [0m[92mReceived response: "[[0m
[33m[stage-44] [0m[92m  {[0m
[33m[stage-44] [0m[92m    "Stream": "pear",[0m
[33m[stage-44] [0m[92m    "Messages": [[0m
[33m[stage-44] [0m[92m      {[0m
[33m[stage-44] [0m[92m        "ID": "0-2",[0m
[33m[stage-44] [0m[92m        "Values": {[0m
[33m[stage-44] [0m[92m          "temperature": "70"[0m
[33m[stage-44] [0m[92m        }[0m
[33m[stage-44] [0m[92m      }[0m
[33m[stage-44] [0m[92m    ][0m
[33m[stage-44] [0m[92m  }[0m
[33m[stage-44] [0m[92m]"[0m
[33m[stage-44] [0m[92mTest passed.[0m
[33m[stage-44] [0m[36mTerminating program[0m
[33m[stage-44] [0m[36mProgram terminated successfully[0m

[33m[stage-43] [0m[94mRunning tests for Stage #43: hw1[0m
[33m[stage-43] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-43] [0m[94m$ redis-cli xadd raspberry 0-1 temperature 74[0m
[33m[stage-43] [0m[92mReceived response: "0-1"[0m
[33m[stage-43] [0m[94m$ redis-cli xread block 0 streams raspberry 0-1[0m
[33m[stage-43] [0m[94m$ redis-cli xadd raspberry 0-2 temperature 74[0m
[33m[stage-43] [0m[92mReceived response: "0-2"[0m
[33m[stage-43] [0m[92mReceived response: "[[0m
[33m[stage-43] [0m[92m  {[0m
[33m[stage-43] [0m[92m    "Stream": "raspberry",[0m
[33m[stage-43] [0m[92m    "Messages": [[0m
[33m[stage-43] [0m[92m      {[0m
[33m[stage-43] [0m[92m        "ID": "0-2",[0m
[33m[stage-43] [0m[92m        "Values": {[0m
[33m[stage-43] [0m[92m          "temperature": "74"[0m
[33m[stage-43] [0m[92m        }[0m
[33m[stage-43] [0m[92m      }[0m
[33m[stage-43] [0m[92m    ][0m
[33m[stage-43] [0m[92m  }[0m
[33m[stage-43] [0m[92m]"[0m
[33m[stage-43] [0m[92mTest passed.[0m
[33m[stage-43] [0m[36mTerminating program[0m
[33m[stage-43] [0m[36mProgram terminated successfully[0m

[33m[stage-42] [0m[94mRunning tests for Stage #42: bs1[0m
[33m[stage-42] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-42] [0m[94m$ redis-cli xadd pear 0-1 temperature 30[0m
[33m[stage-42] [0m[92mReceived response: "0-1"[0m
[33m[stage-42] [0m[94m$ redis-cli xread block 1000 streams pear 0-1[0m
[33m[stage-42] [0m[94m$ redis-cli xadd pear 0-2 temperature 30[0m
[33m[stage-42] [0m[92mReceived response: "0-2"[0m
[33m[stage-42] [0m[92mReceived response: "[[0m
[33m[stage-42] [0m[92m  {[0m
[33m[stage-42] [0m[92m    "Stream": "pear",[0m
[33m[stage-42] [0m[92m    "Messages": [[0m
[33m[stage-42] [0m[92m      {[0m
[33m[stage-42] [0m[92m        "ID": "0-2",[0m
[33m[stage-42] [0m[92m        "Values": {[0m
[33m[stage-42] [0m[92m          "temperature": "30"[0m
[33m[stage-42] [0m[92m        }[0m
[33m[stage-42] [0m[92m      }[0m
[33m[stage-42] [0m[92m    ][0m
[33m[stage-42] [0m[92m  }[0m
[33m[stage-42] [0m[92m]"[0m
[33m[stage-42] [0m[94m$ redis-cli xread block 1000 streams pear 0-2[0m
[33m[stage-42] [0m[92mReceived nil response[0m
[33m[stage-42] [0m[92mTest passed.[0m
[33m[stage-42] [0m[36mTerminating program[0m
[33m[stage-42] [0m[36mProgram terminated successfully[0m

[33m[stage-41] [0m[94mRunning tests for Stage #41: ru9[0m
[33m[stage-41] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-41] [0m[94m$ redis-cli xadd blueberry 0-1 temperature 24[0m
[33m[stage-41] [0m[92mReceived response: "0-1"[0m
[33m[stage-41] [0m[94m$ redis-cli xadd banana 0-2 humidity 61[0m
[33m[stage-41] [0m[92mReceived response: "0-2"[0m
[33m[stage-41] [0m[94m$ redis-cli xread streams blueberry banana 0-0 0-1[0m
[33m[stage-41] [0m[92mReceived response: "[[0m
[33m[stage-41] [0m[92m  {[0m
[33m[stage-41] [0m[92m    "Stream": "blueberry",[0m
[33m[stage-41] [0m[92m    "Messages": [[0m
[33m[stage-41] [0m[92m      {[0m
[33m[stage-41] [0m[92m        "ID": "0-1",[0m
[33m[stage-41] [0m[92m        "Values": {[0m
[33m[stage-41] [0m[92m          "temperature": "24"[0m
[33m[stage-41] [0m[92m        }[0m
[33m[stage-41] [0m[92m      }[0m
[33m[stage-41] [0m[92m    ][0m
[33m[stage-41] [0m[92m  },[0m
[33m[stage-41] [0m[92m  {[0m
[33m[stage-41] [0m[92m    "Stream": "banana",[0m
[33m[stage-41] [0m[92m    "Messages": [[0m
[33m[stage-41] [0m[92m      {[0m
[33m[stage-41] [0m[92m        "ID": "0-2",[0m
[33m[stage-41] [0m[92m        "Values": {[0m
[33m[stage-41] [0m[92m          "humidity": "61"[0m
[33m[stage-41] [0m[92m        }[0m
[33m[stage-41] [0m[92m      }[0m
[33m[stage-41] [0m[92m    ][0m
[33m[stage-41] [0m[92m  }[0m
[33m[stage-41] [0m[92m]"[0m
[33m[stage-41] [0m[92mTest passed.[0m
[33m[stage-41] [0m[36mTerminating program[0m
[33m[stage-41] [0m[36mProgram terminated successfully[0m

[33m[stage-40] [0m[94mRunning tests for Stage #40: um0[0m
[33m[stage-40] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-40] [0m[94m$ redis-cli xadd grape 0-1 temperature 54[0m
[33m[stage-40] [0m[92mReceived response: "0-1"[0m
[33m[stage-40] [0m[94m$ redis-cli xread streams grape 0-0[0m
[33m[stage-40] [0m[92mReceived response: "[[0m
[33m[stage-40] [0m[92m  {[0m
[33m[stage-40] [0m[92m    "Stream": "grape",[0m
[33m[stage-40] [0m[92m    "Messages": [[0m
[33m[stage-40] [0m[92m      {[0m
[33m[stage-40] [0m[92m        "ID": "0-1",[0m
[33m[stage-40] [0m[92m        "Values": {[0m
[33m[stage-40] [0m[92m          "temperature": "54"[0m
[33m[stage-40] [0m[92m        }[0m
[33m[stage-40] [0m[92m      }[0m
[33m[stage-40] [0m[92m    ][0m
[33m[stage-40] [0m[92m  }[0m
[33m[stage-40] [0m[92m]"[0m
[33m[stage-40] [0m[92mTest passed.[0m
[33m[stage-40] [0m[36mTerminating program[0m
[33m[stage-40] [0m[36mProgram terminated successfully[0m

[33m[stage-39] [0m[94mRunning tests for Stage #39: fs1[0m
[33m[stage-39] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-39] [0m[94m$ redis-cli xadd apple 0-1 foo bar[0m
[33m[stage-39] [0m[92mReceived response: "0-1"[0m
[33m[stage-39] [0m[94m$ redis-cli xadd apple 0-2 foo bar[0m
[33m[stage-39] [0m[92mReceived response: "0-2"[0m
[33m[stage-39] [0m[94m$ redis-cli xadd apple 0-3 foo bar[0m
[33m[stage-39] [0m[92mReceived response: "0-3"[0m
[33m[stage-39] [0m[94m$ redis-cli xrange apple 0-2 +[0m
[33m[stage-39] [0m[92mReceived response: "[[0m
[33m[stage-39] [0m[92m  {[0m
[33m[stage-39] [0m[92m    "ID": "0-2",[0m
[33m[stage-39] [0m[92m    "Values": {[0m
[33m[stage-39] [0m[92m      "foo": "bar"[0m
[33m[stage-39] [0m[92m    }[0m
[33m[stage-39] [0m[92m  },[0m
[33m[stage-39] [0m[92m  {[0m
[33m[stage-39] [0m[92m    "ID": "0-3",[0m
[33m[stage-39] [0m[92m    "Values": {[0m
[33m[stage-39] [0m[92m      "foo": "bar"[0m
[33m[stage-39] [0m[92m    }[0m
[33m[stage-39] [0m[92m  }[0m
[33m[stage-39] [0m[92m]"[0m
[33m[stage-39] [0m[92mTest passed.[0m
[33m[stage-39] [0m[36mTerminating program[0m
[33m[stage-39] [0m[36mProgram terminated successfully[0m

[33m[stage-38] [0m[94mRunning tests for Stage #38: yp1[0m
[33m[stage-38] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-38] [0m[94m$ redis-cli xadd banana 0-1 foo bar[0m
[33m[stage-38] [0m[92mReceived response: "0-1"[0m
[33m[stage-38] [0m[94m$ redis-cli xadd banana 0-2 foo bar[0m
[33m[stage-38] [0m[92mReceived response: "0-2"[0m
[33m[stage-38] [0m[94m$ redis-cli xadd banana 0-3 foo bar[0m
[33m[stage-38] [0m[92mReceived response: "0-3"[0m
[33m[stage-38] [0m[94m$ redis-cli xrange banana - 0-2[0m
[33m[stage-38] [0m[92mReceived response: "[[0m
[33m[stage-38] [0m[92m  {[0m
[33m[stage-38] [0m[92m    "ID": "0-1",[0m
[33m[stage-38] [0m[92m    "Values": {[0m
[33m[stage-38] [0m[92m      "foo": "bar"[0m
[33m[stage-38] [0m[92m    }[0m
[33m[stage-38] [0m[92m  },[0m
[33m[stage-38] [0m[92m  {[0m
[33m[stage-38] [0m[92m    "ID": "0-2",[0m
[33m[stage-38] [0m[92m    "Values": {[0m
[33m[stage-38] [0m[92m      "foo": "bar"[0m
[33m[stage-38] [0m[92m    }[0m
[33m[stage-38] [0m[92m  }[0m
[33m[stage-38] [0m[92m]"[0m
[33m[stage-38] [0m[92mTest passed.[0m
[33m[stage-38] [0m[36mTerminating program[0m
[33m[stage-38] [0m[36mProgram terminated successfully[0m

[33m[stage-37] [0m[94mRunning tests for Stage #37: zx1[0m
[33m[stage-37] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-37] [0m[94m$ redis-cli xadd grape 0-1 foo bar[0m
[33m[stage-37] [0m[92mReceived response: "0-1"[0m
[33m[stage-37] [0m[94m$ redis-cli xadd grape 0-2 foo bar[0m
[33m[stage-37] [0m[92mReceived response: "0-2"[0m
[33m[stage-37] [0m[94m$ redis-cli xadd grape 0-3 foo bar[0m
[33m[stage-37] [0m[92mReceived response: "0-3"[0m
[33m[stage-37] [0m[94m$ redis-cli xrange grape 0-2 0-3[0m
[33m[stage-37] [0m[92mReceived response: "[[0m
[33m[stage-37] [0m[92m  {[0m
[33m[stage-37] [0m[92m    "ID": "0-2",[0m
[33m[stage-37] [0m[92m    "Values": {[0m
[33m[stage-37] [0m[92m      "foo": "bar"[0m
[33m[stage-37] [0m[92m    }[0m
[33m[stage-37] [0m[92m  },[0m
[33m[stage-37] [0m[92m  {[0m
[33m[stage-37] [0m[92m    "ID": "0-3",[0m
[33m[stage-37] [0m[92m    "Values": {[0m
[33m[stage-37] [0m[92m      "foo": "bar"[0m
[33m[stage-37] [0m[92m    }[0m
[33m[stage-37] [0m[92m  }[0m
[33m[stage-37] [0m[92m]"[0m
[33m[stage-37] [0m[92mTest passed.[0m
[33m[stage-37] [0m[36mTerminating program[0m
[33m[stage-37] [0m[36mProgram terminated successfully[0m

[33m[stage-36] [0m[94mRunning tests for Stage #36: xu6[0m
[33m[stage-36] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-36] [0m[94mclient: $ redis-cli XADD mango * foo bar[0m
[33m[stage-36] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$5\r\nmango\r\n$1\r\n*\r\n$3\r\nfoo\r\n$3\r\nbar\r\n"[0m
[33m[stage-36] [0m[36mclient: Received bytes: "$15\r\n1736272696731-0\r\n"[0m
[33m[stage-36] [0m[36mclient: Received RESP bulk string: "1736272696731-0"[0m
[33m[stage-36] [0m[92mReceived "1736272696731-0"[0m
[33m[stage-36] [0m[92mThe first part of the ID is a valid unix milliseconds timestamp[0m
[33m[stage-36] [0m[92mThe second part of the ID is a valid sequence number[0m
[33m[stage-36] [0m[92mTest passed.[0m
[33m[stage-36] [0m[36mTerminating program[0m
[33m[stage-36] [0m[36mProgram terminated successfully[0m

[33m[stage-35] [0m[94mRunning tests for Stage #35: yh3[0m
[33m[stage-35] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-35] [0m[94mclient: $ redis-cli XADD apple 0-* blueberry mango[0m
[33m[stage-35] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$5\r\napple\r\n$3\r\n0-*\r\n$9\r\nblueberry\r\n$5\r\nmango\r\n"[0m
[33m[stage-35] [0m[36mclient: Received bytes: "$3\r\n0-1\r\n"[0m
[33m[stage-35] [0m[36mclient: Received RESP bulk string: "0-1"[0m
[33m[stage-35] [0m[92mReceived "0-1"[0m
[33m[stage-35] [0m[94mclient: > XADD apple 1-* blueberry mango[0m
[33m[stage-35] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$5\r\napple\r\n$3\r\n1-*\r\n$9\r\nblueberry\r\n$5\r\nmango\r\n"[0m
[33m[stage-35] [0m[36mclient: Received bytes: "$3\r\n1-0\r\n"[0m
[33m[stage-35] [0m[36mclient: Received RESP bulk string: "1-0"[0m
[33m[stage-35] [0m[92mReceived "1-0"[0m
[33m[stage-35] [0m[94mclient: > XADD apple 1-* mango banana[0m
[33m[stage-35] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$5\r\napple\r\n$3\r\n1-*\r\n$5\r\nmango\r\n$6\r\nbanana\r\n"[0m
[33m[stage-35] [0m[36mclient: Received bytes: "$3\r\n1-1\r\n"[0m
[33m[stage-35] [0m[36mclient: Received RESP bulk string: "1-1"[0m
[33m[stage-35] [0m[92mReceived "1-1"[0m
[33m[stage-35] [0m[92mTest passed.[0m
[33m[stage-35] [0m[36mTerminating program[0m
[33m[stage-35] [0m[36mProgram terminated successfully[0m

[33m[stage-34] [0m[94mRunning tests for Stage #34: hq8[0m
[33m[stage-34] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-34] [0m[94mclient: $ redis-cli XADD blueberry 1-1 blueberry strawberry[0m
[33m[stage-34] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$9\r\nblueberry\r\n$3\r\n1-1\r\n$9\r\nblueberry\r\n$10\r\nstrawberry\r\n"[0m
[33m[stage-34] [0m[36mclient: Received bytes: "$3\r\n1-1\r\n"[0m
[33m[stage-34] [0m[36mclient: Received RESP bulk string: "1-1"[0m
[33m[stage-34] [0m[92mReceived "1-1"[0m
[33m[stage-34] [0m[94mclient: > XADD blueberry 1-2 apple grape[0m
[33m[stage-34] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$9\r\nblueberry\r\n$3\r\n1-2\r\n$5\r\napple\r\n$5\r\ngrape\r\n"[0m
[33m[stage-34] [0m[36mclient: Received bytes: "$3\r\n1-2\r\n"[0m
[33m[stage-34] [0m[36mclient: Received RESP bulk string: "1-2"[0m
[33m[stage-34] [0m[92mReceived "1-2"[0m
[33m[stage-34] [0m[94mclient: > XADD blueberry 1-2 mango pineapple[0m
[33m[stage-34] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$9\r\nblueberry\r\n$3\r\n1-2\r\n$5\r\nmango\r\n$9\r\npineapple\r\n"[0m
[33m[stage-34] [0m[36mclient: Received bytes: "-ERR The ID specified in XADD is equal or smaller than the target stream top item\r\n"[0m
[33m[stage-34] [0m[36mclient: Received RESP error: "ERR: ERR The ID specified in XADD is equal or smaller than the target stream top item"[0m
[33m[stage-34] [0m[92mReceived "ERR: ERR The ID specified in XADD is equal or smaller than the target stream top item"[0m
[33m[stage-34] [0m[94mclient: > XADD blueberry 0-3 pear banana[0m
[33m[stage-34] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$9\r\nblueberry\r\n$3\r\n0-3\r\n$4\r\npear\r\n$6\r\nbanana\r\n"[0m
[33m[stage-34] [0m[36mclient: Received bytes: "-ERR The ID specified in XADD is equal or smaller than the target stream top item\r\n"[0m
[33m[stage-34] [0m[36mclient: Received RESP error: "ERR: ERR The ID specified in XADD is equal or smaller than the target stream top item"[0m
[33m[stage-34] [0m[92mReceived "ERR: ERR The ID specified in XADD is equal or smaller than the target stream top item"[0m
[33m[stage-34] [0m[94mclient: > XADD blueberry 0-0 orange raspberry[0m
[33m[stage-34] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$9\r\nblueberry\r\n$3\r\n0-0\r\n$6\r\norange\r\n$9\r\nraspberry\r\n"[0m
[33m[stage-34] [0m[36mclient: Received bytes: "-ERR The ID specified in XADD must be greater than 0-0\r\n"[0m
[33m[stage-34] [0m[36mclient: Received RESP error: "ERR: ERR The ID specified in XADD must be greater than 0-0"[0m
[33m[stage-34] [0m[92mReceived "ERR: ERR The ID specified in XADD must be greater than 0-0"[0m
[33m[stage-34] [0m[92mTest passed.[0m
[33m[stage-34] [0m[36mTerminating program[0m
[33m[stage-34] [0m[36mProgram terminated successfully[0m

[33m[stage-33] [0m[94mRunning tests for Stage #33: cf6[0m
[33m[stage-33] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-33] [0m[94mclient: $ redis-cli XADD blueberry 0-1 foo bar[0m
[33m[stage-33] [0m[36mclient: Sent bytes: "*5\r\n$4\r\nXADD\r\n$9\r\nblueberry\r\n$3\r\n0-1\r\n$3\r\nfoo\r\n$3\r\nbar\r\n"[0m
[33m[stage-33] [0m[36mclient: Received bytes: "$3\r\n0-1\r\n"[0m
[33m[stage-33] [0m[36mclient: Received RESP bulk string: "0-1"[0m
[33m[stage-33] [0m[92mReceived "0-1"[0m
[33m[stage-33] [0m[94mclient: > TYPE blueberry[0m
[33m[stage-33] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nTYPE\r\n$9\r\nblueberry\r\n"[0m
[33m[stage-33] [0m[36mclient: Received bytes: "+stream\r\n"[0m
[33m[stage-33] [0m[36mclient: Received RESP simple string: "stream"[0m
[33m[stage-33] [0m[92mReceived "stream"[0m
[33m[stage-33] [0m[92mTest passed.[0m
[33m[stage-33] [0m[36mTerminating program[0m
[33m[stage-33] [0m[36mProgram terminated successfully[0m

[33m[stage-32] [0m[94mRunning tests for Stage #32: cc3[0m
[33m[stage-32] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-32] [0m[94mclient: $ redis-cli SET banana apple[0m
[33m[stage-32] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$6\r\nbanana\r\n$5\r\napple\r\n"[0m
[33m[stage-32] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-32] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-32] [0m[92mReceived "OK"[0m
[33m[stage-32] [0m[94mclient: > TYPE banana[0m
[33m[stage-32] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nTYPE\r\n$6\r\nbanana\r\n"[0m
[33m[stage-32] [0m[36mclient: Received bytes: "+string\r\n"[0m
[33m[stage-32] [0m[36mclient: Received RESP simple string: "string"[0m
[33m[stage-32] [0m[92mReceived "string"[0m
[33m[stage-32] [0m[94mclient: > TYPE missing_key_apple[0m
[33m[stage-32] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nTYPE\r\n$17\r\nmissing_key_apple\r\n"[0m
[33m[stage-32] [0m[36mclient: Received bytes: "+none\r\n"[0m
[33m[stage-32] [0m[36mclient: Received RESP simple string: "none"[0m
[33m[stage-32] [0m[92mReceived "none"[0m
[33m[stage-32] [0m[92mTest passed.[0m
[33m[stage-32] [0m[36mTerminating program[0m
[33m[stage-32] [0m[36mProgram terminated successfully[0m

[33m[stage-31] [0m[94mRunning tests for Stage #31: na2[0m
[33m[stage-31] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-31] [0m[94mProceeding to create 4 replicas.[0m
[33m[stage-31] [0m[36mCreating replica: 1[0m
[33m[stage-31] [handshake] [0m[94mreplica-1: $ redis-cli PING[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received RESP simple string: "PONG"[0m
[33m[stage-31] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-31] [handshake] [0m[94mreplica-1: > REPLCONF listening-port 6380[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-1: > REPLCONF capa psync2[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-1: > PSYNC ? -1[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received bytes: "+FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received RESP simple string: "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[92mReceived "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-31] [handshake] [0m[36mreplica-1: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc29k}g\xfa\bused-mem\xc2\xf0\xc7\x0f\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(58e818903ac415eac13878943c964e87af84cda0\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xffKx\r\xf7\x06\xe0m'"[0m
[33m[stage-31] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-31] [0m[36mCreating replica: 2[0m
[33m[stage-31] [handshake] [0m[94mreplica-2: $ redis-cli PING[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received bytes: "+PONG\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received RESP simple string: "PONG"[0m
[33m[stage-31] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-31] [handshake] [0m[94mreplica-2: > REPLCONF listening-port 6381[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6381\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-2: > REPLCONF capa psync2[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-2: > PSYNC ? -1[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received bytes: "+FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received RESP simple string: "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[92mReceived "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-31] [handshake] [0m[36mreplica-2: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc29k}g\xfa\bused-memÂ¸\xbd\x10\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(58e818903ac415eac13878943c964e87af84cda0\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xffOl$5\xa9\xb1\xf3\xe9"[0m
[33m[stage-31] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-31] [0m[36mCreating replica: 3[0m
[33m[stage-31] [handshake] [0m[94mreplica-3: $ redis-cli PING[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received bytes: "+PONG\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received RESP simple string: "PONG"[0m
[33m[stage-31] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-31] [handshake] [0m[94mreplica-3: > REPLCONF listening-port 6382[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6382\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-3: > REPLCONF capa psync2[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-3: > PSYNC ? -1[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received bytes: "+FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received RESP simple string: "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[92mReceived "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-31] [handshake] [0m[36mreplica-3: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc29k}g\xfa\bused-mem\xc2\x00\x17\x11\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(58e818903ac415eac13878943c964e87af84cda0\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xffW\xf7\xfcC\xe0R\xed\xbb"[0m
[33m[stage-31] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-31] [0m[36mCreating replica: 4[0m
[33m[stage-31] [handshake] [0m[94mreplica-4: $ redis-cli PING[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received bytes: "+PONG\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received RESP simple string: "PONG"[0m
[33m[stage-31] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-31] [handshake] [0m[94mreplica-4: > REPLCONF listening-port 6383[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6383\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-4: > REPLCONF capa psync2[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received RESP simple string: "OK"[0m
[33m[stage-31] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-31] [handshake] [0m[94mreplica-4: > PSYNC ? -1[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received bytes: "+FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0\r\n"[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received RESP simple string: "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[92mReceived "FULLRESYNC 58e818903ac415eac13878943c964e87af84cda0 0"[0m
[33m[stage-31] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-31] [handshake] [0m[36mreplica-4: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc29k}g\xfa\bused-mem\xc2Hp\x11\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(58e818903ac415eac13878943c964e87af84cda0\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff\xf9\x1a\x9b\xebP,(D"[0m
[33m[stage-31] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-31] [test] [0m[94mclient: $ redis-cli SET foo 123[0m
[33m[stage-31] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-31] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-31] [test] [0m[92mReceived "OK"[0m
[33m[stage-31] [test] [0m[94mclient: > WAIT 1 500[0m
[33m[stage-31] [test] [0m[36mclient: Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n1\r\n$3\r\n500\r\n"[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 1[0m
[33m[stage-31] [test] [0m[94mreplica-1: Expecting "SET foo 123" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received RESP array: ["SELECT", "0"][0m
[33m[stage-31] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[94mreplica-1: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-1: Sending ACK to Master[0m
[33m[stage-31] [test] [0m[94mreplica-1: > REPLCONF ACK 54[0m
[33m[stage-31] [test] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$2\r\n54\r\n"[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 2[0m
[33m[stage-31] [test] [0m[94mreplica-2: Expecting "SET foo 123" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received RESP array: ["SELECT", "0"][0m
[33m[stage-31] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[94mreplica-2: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-2: Not sending ACK to Master[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 3[0m
[33m[stage-31] [test] [0m[94mreplica-3: Expecting "SET foo 123" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received RESP array: ["SELECT", "0"][0m
[33m[stage-31] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[94mreplica-3: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-3: Not sending ACK to Master[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 4[0m
[33m[stage-31] [test] [0m[94mreplica-4: Expecting "SET foo 123" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received RESP array: ["SELECT", "0"][0m
[33m[stage-31] [test] [0m[36mreplica-4: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-31] [test] [0m[94mreplica-4: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-4: Not sending ACK to Master[0m
[33m[stage-31] [test] [0m[36mclient: Received bytes: ":1\r\n"[0m
[33m[stage-31] [test] [0m[36mclient: Received RESP integer: 1[0m
[33m[stage-31] [test] [0m[92mPassed first WAIT test.[0m
[33m[stage-31] [test] [0m[94mclient: > SET baz 789[0m
[33m[stage-31] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-31] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-31] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-31] [test] [0m[92mReceived "OK"[0m
[33m[stage-31] [test] [0m[94mclient: > WAIT 4 2000[0m
[33m[stage-31] [test] [0m[36mclient: Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n4\r\n$4\r\n2000\r\n"[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 1[0m
[33m[stage-31] [test] [0m[94mreplica-1: Expecting "SET baz 789" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[94mreplica-1: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-1: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-1: Sending ACK to Master[0m
[33m[stage-31] [test] [0m[94mreplica-1: > REPLCONF ACK 122[0m
[33m[stage-31] [test] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$3\r\n122\r\n"[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 2[0m
[33m[stage-31] [test] [0m[94mreplica-2: Expecting "SET baz 789" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[94mreplica-2: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-2: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-2: Sending ACK to Master[0m
[33m[stage-31] [test] [0m[94mreplica-2: > REPLCONF ACK 122[0m
[33m[stage-31] [test] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$3\r\n122\r\n"[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 3[0m
[33m[stage-31] [test] [0m[94mreplica-3: Expecting "SET baz 789" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[94mreplica-3: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-3: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-3: Sending ACK to Master[0m
[33m[stage-31] [test] [0m[94mreplica-3: > REPLCONF ACK 122[0m
[33m[stage-31] [test] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$3\r\n122\r\n"[0m
[33m[stage-31] [test] [0m[94mTesting Replica : 4[0m
[33m[stage-31] [test] [0m[94mreplica-4: Expecting "SET baz 789" to be propagated[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-31] [test] [0m[94mreplica-4: Expecting "REPLCONF GETACK *" from Master[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-31] [test] [0m[36mreplica-4: Received RESP array: ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[92mReceived ["REPLCONF", "GETACK", "*"][0m
[33m[stage-31] [test] [0m[36mreplica-4: Not sending ACK to Master[0m
[33m[stage-31] [test] [0m[36mclient: Received bytes: ":3\r\n"[0m
[33m[stage-31] [test] [0m[36mclient: Received RESP integer: 3[0m
[33m[stage-31] [test] [0m[94mWAIT command returned after 2087 ms[0m
[33m[stage-31] [0m[92mTest passed.[0m
[33m[stage-31] [0m[36mTerminating program[0m
[33m[stage-31] [0m[36mProgram terminated successfully[0m

[33m[stage-30] [0m[94mRunning tests for Stage #30: tu8[0m
[33m[stage-30] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-30] [0m[94mProceeding to create 3 replicas.[0m
[33m[stage-30] [0m[36mCreating replica: 1[0m
[33m[stage-30] [handshake] [0m[94mreplica-1: $ redis-cli PING[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received RESP simple string: "PONG"[0m
[33m[stage-30] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-30] [handshake] [0m[94mreplica-1: > REPLCONF listening-port 6380[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received bytes: "+OK\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received RESP simple string: "OK"[0m
[33m[stage-30] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-30] [handshake] [0m[94mreplica-1: > REPLCONF capa psync2[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received bytes: "+OK\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received RESP simple string: "OK"[0m
[33m[stage-30] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-30] [handshake] [0m[94mreplica-1: > PSYNC ? -1[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received bytes: "+FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received RESP simple string: "FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0"[0m
[33m[stage-30] [handshake] [0m[92mReceived "FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0"[0m
[33m[stage-30] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-30] [handshake] [0m[36mreplica-1: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2;k}g\xfa\bused-memÂ°\xc7\x0f\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(2bab74d6ee50c899c0b7904cdbdf49b46d458cfc\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff\xe3\xea?B\xfe!/\xe1"[0m
[33m[stage-30] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-30] [0m[36mCreating replica: 2[0m
[33m[stage-30] [handshake] [0m[94mreplica-2: $ redis-cli PING[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received bytes: "+PONG\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received RESP simple string: "PONG"[0m
[33m[stage-30] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-30] [handshake] [0m[94mreplica-2: > REPLCONF listening-port 6381[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6381\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received bytes: "+OK\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received RESP simple string: "OK"[0m
[33m[stage-30] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-30] [handshake] [0m[94mreplica-2: > REPLCONF capa psync2[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received bytes: "+OK\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received RESP simple string: "OK"[0m
[33m[stage-30] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-30] [handshake] [0m[94mreplica-2: > PSYNC ? -1[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received bytes: "+FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received RESP simple string: "FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0"[0m
[33m[stage-30] [handshake] [0m[92mReceived "FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0"[0m
[33m[stage-30] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-30] [handshake] [0m[36mreplica-2: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2;k}g\xfa\bused-mem\xc2x\xbd\x10\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(2bab74d6ee50c899c0b7904cdbdf49b46d458cfc\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xffH\xa0\xe0v>Å\xdd"[0m
[33m[stage-30] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-30] [0m[36mCreating replica: 3[0m
[33m[stage-30] [handshake] [0m[94mreplica-3: $ redis-cli PING[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received bytes: "+PONG\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received RESP simple string: "PONG"[0m
[33m[stage-30] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-30] [handshake] [0m[94mreplica-3: > REPLCONF listening-port 6382[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6382\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received bytes: "+OK\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received RESP simple string: "OK"[0m
[33m[stage-30] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-30] [handshake] [0m[94mreplica-3: > REPLCONF capa psync2[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received bytes: "+OK\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received RESP simple string: "OK"[0m
[33m[stage-30] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-30] [handshake] [0m[94mreplica-3: > PSYNC ? -1[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received bytes: "+FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0\r\n"[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received RESP simple string: "FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0"[0m
[33m[stage-30] [handshake] [0m[92mReceived "FULLRESYNC 2bab74d6ee50c899c0b7904cdbdf49b46d458cfc 0"[0m
[33m[stage-30] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-30] [handshake] [0m[36mreplica-3: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2<k}g\xfa\bused-mem\xc2\xc0\x16\x11\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(2bab74d6ee50c899c0b7904cdbdf49b46d458cfc\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xffx\xfa\xe69\xbd3\x90\r"[0m
[33m[stage-30] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-30] [test] [0m[94mclient: $ redis-cli WAIT 3 500[0m
[33m[stage-30] [test] [0m[36mclient: Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n3\r\n$3\r\n500\r\n"[0m
[33m[stage-30] [test] [0m[36mclient: Received bytes: ":3\r\n"[0m
[33m[stage-30] [test] [0m[36mclient: Received RESP integer: 3[0m
[33m[stage-30] [test] [0m[92mReceived 3[0m
[33m[stage-30] [test] [0m[94mclient: > WAIT 4 500[0m
[33m[stage-30] [test] [0m[36mclient: Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n4\r\n$3\r\n500\r\n"[0m
[33m[stage-30] [test] [0m[36mclient: Received bytes: ":3\r\n"[0m
[33m[stage-30] [test] [0m[36mclient: Received RESP integer: 3[0m
[33m[stage-30] [test] [0m[92mReceived 3[0m
[33m[stage-30] [test] [0m[94mclient: > WAIT 5 500[0m
[33m[stage-30] [test] [0m[36mclient: Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n5\r\n$3\r\n500\r\n"[0m
[33m[stage-30] [test] [0m[36mclient: Received bytes: ":3\r\n"[0m
[33m[stage-30] [test] [0m[36mclient: Received RESP integer: 3[0m
[33m[stage-30] [test] [0m[92mReceived 3[0m
[33m[stage-30] [0m[92mTest passed.[0m
[33m[stage-30] [0m[36mTerminating program[0m
[33m[stage-30] [0m[36mProgram terminated successfully[0m

[33m[stage-29] [0m[94mRunning tests for Stage #29: my8[0m
[33m[stage-29] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-29] [0m[94mclient: $ redis-cli WAIT 0 60000[0m
[33m[stage-29] [0m[36mclient: Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n0\r\n$5\r\n60000\r\n"[0m
[33m[stage-29] [0m[36mclient: Received bytes: ":0\r\n"[0m
[33m[stage-29] [0m[36mclient: Received RESP integer: 0[0m
[33m[stage-29] [0m[92mReceived 0[0m
[33m[stage-29] [0m[92mTest passed.[0m
[33m[stage-29] [0m[36mTerminating program[0m
[33m[stage-29] [0m[36mProgram terminated successfully[0m

[33m[stage-28] [0m[94mRunning tests for Stage #28: yd3[0m
[33m[stage-28] [0m[94mMaster is running on port 6379[0m
[33m[stage-28] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-28] [handshake] [0m[94mmaster: Waiting for replica to initiate handshake with "PING" command[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received RESP array: ["PING"][0m
[33m[stage-28] [handshake] [0m[92mReceived ["PING"][0m
[33m[stage-28] [handshake] [0m[94mmaster: Sent "PONG"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Sent bytes: "+PONG\r\n"[0m
[33m[stage-28] [handshake] [0m[94mmaster: Waiting for replica to send "REPLCONF listening-port 6380" command[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received RESP array: ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-28] [handshake] [0m[92mReceived ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-28] [handshake] [0m[94mmaster: Sent "OK"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-28] [handshake] [0m[94mmaster: Waiting for replica to send "REPLCONF capa" command[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received bytes: "*5\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$3\r\neof\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received RESP array: ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-28] [handshake] [0m[92mReceived ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-28] [handshake] [0m[94mmaster: Sent "OK"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-28] [handshake] [0m[94mmaster: Waiting for replica to send "PSYNC" command[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Received RESP array: ["PSYNC", "?", "-1"][0m
[33m[stage-28] [handshake] [0m[92mReceived ["PSYNC", "?", "-1"][0m
[33m[stage-28] [handshake] [0m[94mmaster: Sent "FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0"[0m
[33m[stage-28] [handshake] [0m[36mmaster: Sent bytes: "+FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0\r\n"[0m
[33m[stage-28] [handshake] [0m[36mSending RDB file...[0m
[33m[stage-28] [handshake] [0m[36mmaster: Sent bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-memÂ°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"[0m
[33m[stage-28] [handshake] [0m[92mSent RDB file.[0m
[33m[stage-28] [test] [0m[94mmaster: > REPLCONF GETACK *[0m
[33m[stage-28] [test] [0m[36mmaster: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-28] [test] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$1\r\n0\r\n"[0m
[33m[stage-28] [test] [0m[36mmaster: Received RESP array: ["REPLCONF", "ACK", "0"][0m
[33m[stage-28] [test] [0m[92mReceived ["REPLCONF", "ACK", "0"][0m
[33m[stage-28] [propagation] [0m[94mmaster: > PING[0m
[33m[stage-28] [propagation] [0m[36mmaster: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-28] [test] [0m[94mmaster: > REPLCONF GETACK *[0m
[33m[stage-28] [test] [0m[36mmaster: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-28] [test] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$2\r\n51\r\n"[0m
[33m[stage-28] [test] [0m[36mmaster: Received RESP array: ["REPLCONF", "ACK", "51"][0m
[33m[stage-28] [test] [0m[92mReceived ["REPLCONF", "ACK", "51"][0m
[33m[stage-28] [propagation] [0m[94mmaster: > SET raspberry banana[0m
[33m[stage-28] [propagation] [0m[36mmaster: Sent bytes: "*3\r\n$3\r\nSET\r\n$9\r\nraspberry\r\n$6\r\nbanana\r\n"[0m
[33m[stage-28] [propagation] [0m[94mmaster: > SET blueberry apple[0m
[33m[stage-28] [propagation] [0m[36mmaster: Sent bytes: "*3\r\n$3\r\nSET\r\n$9\r\nblueberry\r\n$5\r\napple\r\n"[0m
[33m[stage-28] [test] [0m[94mmaster: > REPLCONF GETACK *[0m
[33m[stage-28] [test] [0m[36mmaster: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-28] [test] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$3\r\n167\r\n"[0m
[33m[stage-28] [test] [0m[36mmaster: Received RESP array: ["REPLCONF", "ACK", "167"][0m
[33m[stage-28] [test] [0m[92mReceived ["REPLCONF", "ACK", "167"][0m
[33m[stage-28] [0m[92mTest passed.[0m
[33m[stage-28] [0m[36mTerminating program[0m
[33m[stage-28] [0m[36mProgram terminated successfully[0m

[33m[stage-27] [0m[94mRunning tests for Stage #27: xv6[0m
[33m[stage-27] [0m[94mMaster is running on port 6379[0m
[33m[stage-27] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-27] [handshake] [0m[94mmaster: Waiting for replica to initiate handshake with "PING" command[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received RESP array: ["PING"][0m
[33m[stage-27] [handshake] [0m[92mReceived ["PING"][0m
[33m[stage-27] [handshake] [0m[94mmaster: Sent "PONG"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Sent bytes: "+PONG\r\n"[0m
[33m[stage-27] [handshake] [0m[94mmaster: Waiting for replica to send "REPLCONF listening-port 6380" command[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received RESP array: ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-27] [handshake] [0m[92mReceived ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-27] [handshake] [0m[94mmaster: Sent "OK"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-27] [handshake] [0m[94mmaster: Waiting for replica to send "REPLCONF capa" command[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received bytes: "*5\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$3\r\neof\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received RESP array: ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-27] [handshake] [0m[92mReceived ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-27] [handshake] [0m[94mmaster: Sent "OK"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-27] [handshake] [0m[94mmaster: Waiting for replica to send "PSYNC" command[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Received RESP array: ["PSYNC", "?", "-1"][0m
[33m[stage-27] [handshake] [0m[92mReceived ["PSYNC", "?", "-1"][0m
[33m[stage-27] [handshake] [0m[94mmaster: Sent "FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0"[0m
[33m[stage-27] [handshake] [0m[36mmaster: Sent bytes: "+FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0\r\n"[0m
[33m[stage-27] [handshake] [0m[36mSending RDB file...[0m
[33m[stage-27] [handshake] [0m[36mmaster: Sent bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-memÂ°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"[0m
[33m[stage-27] [handshake] [0m[92mSent RDB file.[0m
[33m[stage-27] [test] [0m[94mmaster: > REPLCONF GETACK *[0m
[33m[stage-27] [test] [0m[36mmaster: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"[0m
[33m[stage-27] [test] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$1\r\n0\r\n"[0m
[33m[stage-27] [test] [0m[36mmaster: Received RESP array: ["REPLCONF", "ACK", "0"][0m
[33m[stage-27] [test] [0m[92mReceived ["REPLCONF", "ACK", "0"][0m
[33m[stage-27] [0m[92mTest passed.[0m
[33m[stage-27] [0m[36mTerminating program[0m
[33m[stage-27] [0m[36mProgram terminated successfully[0m

[33m[stage-26] [0m[94mRunning tests for Stage #26: yg4[0m
[33m[stage-26] [0m[94mMaster is running on port 6379[0m
[33m[stage-26] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-26] [handshake] [0m[94mmaster: Waiting for replica to initiate handshake with "PING" command[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received RESP array: ["PING"][0m
[33m[stage-26] [handshake] [0m[92mReceived ["PING"][0m
[33m[stage-26] [handshake] [0m[94mmaster: Sent "PONG"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Sent bytes: "+PONG\r\n"[0m
[33m[stage-26] [handshake] [0m[94mmaster: Waiting for replica to send "REPLCONF listening-port 6380" command[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received RESP array: ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-26] [handshake] [0m[92mReceived ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-26] [handshake] [0m[94mmaster: Sent "OK"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-26] [handshake] [0m[94mmaster: Waiting for replica to send "REPLCONF capa" command[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received bytes: "*5\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$3\r\neof\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received RESP array: ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-26] [handshake] [0m[92mReceived ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-26] [handshake] [0m[94mmaster: Sent "OK"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-26] [handshake] [0m[94mmaster: Waiting for replica to send "PSYNC" command[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Received RESP array: ["PSYNC", "?", "-1"][0m
[33m[stage-26] [handshake] [0m[92mReceived ["PSYNC", "?", "-1"][0m
[33m[stage-26] [handshake] [0m[94mmaster: Sent "FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0"[0m
[33m[stage-26] [handshake] [0m[36mmaster: Sent bytes: "+FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0\r\n"[0m
[33m[stage-26] [handshake] [0m[36mSending RDB file...[0m
[33m[stage-26] [handshake] [0m[36mmaster: Sent bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-memÂ°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"[0m
[33m[stage-26] [handshake] [0m[92mSent RDB file.[0m
[33m[stage-26] [propagation] [0m[94mmaster: > SET foo 123[0m
[33m[stage-26] [propagation] [0m[36mmaster: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-26] [propagation] [0m[94mmaster: > SET bar 456[0m
[33m[stage-26] [propagation] [0m[36mmaster: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-26] [propagation] [0m[94mmaster: > SET baz 789[0m
[33m[stage-26] [propagation] [0m[36mmaster: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-26] [test] [0m[94mGetting key foo[0m
[33m[stage-26] [test] [0m[94mclient: $ redis-cli GET foo[0m
[33m[stage-26] [test] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$3\r\nfoo\r\n"[0m
[33m[stage-26] [test] [0m[36mclient: Received bytes: "$3\r\n123\r\n"[0m
[33m[stage-26] [test] [0m[36mclient: Received RESP bulk string: "123"[0m
[33m[stage-26] [test] [0m[92mReceived "123"[0m
[33m[stage-26] [test] [0m[94mGetting key bar[0m
[33m[stage-26] [test] [0m[94mclient: > GET bar[0m
[33m[stage-26] [test] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$3\r\nbar\r\n"[0m
[33m[stage-26] [test] [0m[36mclient: Received bytes: "$3\r\n456\r\n"[0m
[33m[stage-26] [test] [0m[36mclient: Received RESP bulk string: "456"[0m
[33m[stage-26] [test] [0m[92mReceived "456"[0m
[33m[stage-26] [test] [0m[94mGetting key baz[0m
[33m[stage-26] [test] [0m[94mclient: > GET baz[0m
[33m[stage-26] [test] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$3\r\nbaz\r\n"[0m
[33m[stage-26] [test] [0m[36mclient: Received bytes: "$3\r\n789\r\n"[0m
[33m[stage-26] [test] [0m[36mclient: Received RESP bulk string: "789"[0m
[33m[stage-26] [test] [0m[92mReceived "789"[0m
[33m[stage-26] [0m[92mTest passed.[0m
[33m[stage-26] [0m[36mTerminating program[0m
[33m[stage-26] [0m[36mProgram terminated successfully[0m

[33m[stage-25] [0m[94mRunning tests for Stage #25: hd5[0m
[33m[stage-25] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-25] [handshake] [0m[36mCreating replica: 1[0m
[33m[stage-25] [handshake] [0m[94mreplica-1: $ redis-cli PING[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received RESP simple string: "PONG"[0m
[33m[stage-25] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-25] [handshake] [0m[94mreplica-1: > REPLCONF listening-port 6380[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received RESP simple string: "OK"[0m
[33m[stage-25] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-25] [handshake] [0m[94mreplica-1: > REPLCONF capa psync2[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received RESP simple string: "OK"[0m
[33m[stage-25] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-25] [handshake] [0m[94mreplica-1: > PSYNC ? -1[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received bytes: "+FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received RESP simple string: "FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0"[0m
[33m[stage-25] [handshake] [0m[92mReceived "FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0"[0m
[33m[stage-25] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-25] [handshake] [0m[36mreplica-1: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2=k}g\xfa\bused-mem\xc2\xf8\f\x10\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(3d53ef0e04475b33e62ae1eb3aa38c8b76835408\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff>\x82\a\xaf:\xdcm\x83"[0m
[33m[stage-25] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-25] [0m[36mCreating replica: 2[0m
[33m[stage-25] [handshake] [0m[94mreplica-2: $ redis-cli PING[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received bytes: "+PONG\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received RESP simple string: "PONG"[0m
[33m[stage-25] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-25] [handshake] [0m[94mreplica-2: > REPLCONF listening-port 6381[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6381\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received RESP simple string: "OK"[0m
[33m[stage-25] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-25] [handshake] [0m[94mreplica-2: > REPLCONF capa psync2[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received RESP simple string: "OK"[0m
[33m[stage-25] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-25] [handshake] [0m[94mreplica-2: > PSYNC ? -1[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received bytes: "+FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received RESP simple string: "FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0"[0m
[33m[stage-25] [handshake] [0m[92mReceived "FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0"[0m
[33m[stage-25] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-25] [handshake] [0m[36mreplica-2: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2>k}g\xfa\bused-memÂ°\x02\x11\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(3d53ef0e04475b33e62ae1eb3aa38c8b76835408\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff\x87J\t\xe7+,I\n"[0m
[33m[stage-25] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-25] [0m[36mCreating replica: 3[0m
[33m[stage-25] [handshake] [0m[94mreplica-3: $ redis-cli PING[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received bytes: "+PONG\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received RESP simple string: "PONG"[0m
[33m[stage-25] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-25] [handshake] [0m[94mreplica-3: > REPLCONF listening-port 6382[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6382\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received RESP simple string: "OK"[0m
[33m[stage-25] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-25] [handshake] [0m[94mreplica-3: > REPLCONF capa psync2[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received RESP simple string: "OK"[0m
[33m[stage-25] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-25] [handshake] [0m[94mreplica-3: > PSYNC ? -1[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received bytes: "+FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0\r\n"[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received RESP simple string: "FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0"[0m
[33m[stage-25] [handshake] [0m[92mReceived "FULLRESYNC 3d53ef0e04475b33e62ae1eb3aa38c8b76835408 0"[0m
[33m[stage-25] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-25] [handshake] [0m[36mreplica-3: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2>k}g\xfa\bused-mem\xc2\xf8\x1f\x11\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(3d53ef0e04475b33e62ae1eb3aa38c8b76835408\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff\x97\x02\xf1X\xb1\x86\xd0\x05"[0m
[33m[stage-25] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-25] [test] [0m[94mclient: $ redis-cli SET foo 123[0m
[33m[stage-25] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-25] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-25] [test] [0m[92mReceived "OK"[0m
[33m[stage-25] [test] [0m[94mclient: > SET bar 456[0m
[33m[stage-25] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-25] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-25] [test] [0m[92mReceived "OK"[0m
[33m[stage-25] [test] [0m[94mclient: > SET baz 789[0m
[33m[stage-25] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-25] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-25] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-25] [test] [0m[92mReceived "OK"[0m
[33m[stage-25] [test] [0m[94mTesting Replica: 1/3[0m
[33m[stage-25] [test] [0m[94mreplica-1: Expecting "SET foo 123" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received RESP array: ["SELECT", "0"][0m
[33m[stage-25] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-25] [test] [0m[94mreplica-1: Expecting "SET bar 456" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received RESP array: ["SET", "bar", "456"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "bar", "456"][0m
[33m[stage-25] [test] [0m[94mreplica-1: Expecting "SET baz 789" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-1: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-25] [test] [0m[94mTesting Replica: 2/3[0m
[33m[stage-25] [test] [0m[94mreplica-2: Expecting "SET foo 123" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received RESP array: ["SELECT", "0"][0m
[33m[stage-25] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-25] [test] [0m[94mreplica-2: Expecting "SET bar 456" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received RESP array: ["SET", "bar", "456"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "bar", "456"][0m
[33m[stage-25] [test] [0m[94mreplica-2: Expecting "SET baz 789" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-2: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-25] [test] [0m[94mTesting Replica: 3/3[0m
[33m[stage-25] [test] [0m[94mreplica-3: Expecting "SET foo 123" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received RESP array: ["SELECT", "0"][0m
[33m[stage-25] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-25] [test] [0m[94mreplica-3: Expecting "SET bar 456" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received RESP array: ["SET", "bar", "456"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "bar", "456"][0m
[33m[stage-25] [test] [0m[94mreplica-3: Expecting "SET baz 789" to be propagated[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-25] [test] [0m[36mreplica-3: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-25] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-25] [0m[92mTest passed.[0m
[33m[stage-25] [0m[36mTerminating program[0m
[33m[stage-25] [0m[36mProgram terminated successfully[0m

[33m[stage-24] [0m[94mRunning tests for Stage #24: zn8[0m
[33m[stage-24] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-24] [handshake] [0m[94mreplica: $ redis-cli PING[0m
[33m[stage-24] [handshake] [0m[36mreplica: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received bytes: "+PONG\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received RESP simple string: "PONG"[0m
[33m[stage-24] [handshake] [0m[92mReceived "PONG"[0m
[33m[stage-24] [handshake] [0m[94mreplica: > REPLCONF listening-port 6380[0m
[33m[stage-24] [handshake] [0m[36mreplica: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received bytes: "+OK\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received RESP simple string: "OK"[0m
[33m[stage-24] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-24] [handshake] [0m[94mreplica: > REPLCONF capa psync2[0m
[33m[stage-24] [handshake] [0m[36mreplica: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received bytes: "+OK\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received RESP simple string: "OK"[0m
[33m[stage-24] [handshake] [0m[92mReceived "OK"[0m
[33m[stage-24] [handshake] [0m[94mreplica: > PSYNC ? -1[0m
[33m[stage-24] [handshake] [0m[36mreplica: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received bytes: "+FULLRESYNC d7e283172af5d9beb56ac5c7b6541d1e161b51e0 0\r\n"[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received RESP simple string: "FULLRESYNC d7e283172af5d9beb56ac5c7b6541d1e161b51e0 0"[0m
[33m[stage-24] [handshake] [0m[92mReceived "FULLRESYNC d7e283172af5d9beb56ac5c7b6541d1e161b51e0 0"[0m
[33m[stage-24] [handshake] [0m[36mReading RDB file...[0m
[33m[stage-24] [handshake] [0m[36mreplica: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2>k}g\xfa\bused-mem\xc2\x18\r\x10\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(d7e283172af5d9beb56ac5c7b6541d1e161b51e0\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff\x9aB8\x81 \x19Ýˆ"[0m
[33m[stage-24] [handshake] [0m[92mReceived RDB file[0m
[33m[stage-24] [test] [0m[94mclient: $ redis-cli SET foo 123[0m
[33m[stage-24] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-24] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-24] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-24] [test] [0m[92mReceived "OK"[0m
[33m[stage-24] [test] [0m[94mclient: > SET bar 456[0m
[33m[stage-24] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-24] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-24] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-24] [test] [0m[92mReceived "OK"[0m
[33m[stage-24] [test] [0m[94mclient: > SET baz 789[0m
[33m[stage-24] [test] [0m[36mclient: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-24] [test] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-24] [test] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-24] [test] [0m[92mReceived "OK"[0m
[33m[stage-24] [test] [0m[92mSent 3 SET commands to master successfully.[0m
[33m[stage-24] [test] [0m[94mreplica: Expecting "SET foo 123" to be propagated[0m
[33m[stage-24] [test] [0m[36mreplica: Received bytes: "*2\r\n$6\r\nSELECT\r\n$1\r\n0\r\n"[0m
[33m[stage-24] [test] [0m[36mreplica: Received RESP array: ["SELECT", "0"][0m
[33m[stage-24] [test] [0m[36mreplica: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"[0m
[33m[stage-24] [test] [0m[36mreplica: Received RESP array: ["SET", "foo", "123"][0m
[33m[stage-24] [test] [0m[92mReceived ["SET", "foo", "123"][0m
[33m[stage-24] [test] [0m[94mreplica: Expecting "SET bar 456" to be propagated[0m
[33m[stage-24] [test] [0m[36mreplica: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"[0m
[33m[stage-24] [test] [0m[36mreplica: Received RESP array: ["SET", "bar", "456"][0m
[33m[stage-24] [test] [0m[92mReceived ["SET", "bar", "456"][0m
[33m[stage-24] [test] [0m[94mreplica: Expecting "SET baz 789" to be propagated[0m
[33m[stage-24] [test] [0m[36mreplica: Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"[0m
[33m[stage-24] [test] [0m[36mreplica: Received RESP array: ["SET", "baz", "789"][0m
[33m[stage-24] [test] [0m[92mReceived ["SET", "baz", "789"][0m
[33m[stage-24] [0m[92mTest passed.[0m
[33m[stage-24] [0m[36mTerminating program[0m
[33m[stage-24] [0m[36mProgram terminated successfully[0m

[33m[stage-23] [0m[94mRunning tests for Stage #23: cf8[0m
[33m[stage-23] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-23] [0m[94mclient: $ redis-cli PING[0m
[33m[stage-23] [0m[36mclient: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-23] [0m[36mclient: Received bytes: "+PONG\r\n"[0m
[33m[stage-23] [0m[36mclient: Received RESP simple string: "PONG"[0m
[33m[stage-23] [0m[92mReceived "PONG"[0m
[33m[stage-23] [0m[94mclient: > REPLCONF listening-port 6380[0m
[33m[stage-23] [0m[36mclient: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-23] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-23] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-23] [0m[92mReceived "OK"[0m
[33m[stage-23] [0m[94mclient: > REPLCONF capa psync2[0m
[33m[stage-23] [0m[36mclient: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-23] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-23] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-23] [0m[92mReceived "OK"[0m
[33m[stage-23] [0m[94mclient: > PSYNC ? -1[0m
[33m[stage-23] [0m[36mclient: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-23] [0m[36mclient: Received bytes: "+FULLRESYNC 566907915ab1ff4d7a4c423eda1e2adbfb3e4ff2 0\r\n"[0m
[33m[stage-23] [0m[36mclient: Received RESP simple string: "FULLRESYNC 566907915ab1ff4d7a4c423eda1e2adbfb3e4ff2 0"[0m
[33m[stage-23] [0m[92mReceived "FULLRESYNC 566907915ab1ff4d7a4c423eda1e2adbfb3e4ff2 0"[0m
[33m[stage-23] [0m[36mReading RDB file...[0m
[33m[stage-23] [0m[36mclient: Received bytes: "$171\r\nREDIS0012\xfa\tredis-ver\x057.4.1\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2>k}g\xfa\bused-mem\xc2\x10\xc8\x0f\x00\xfa\x0erepl-stream-db\xc0\x00\xfa\arepl-id(566907915ab1ff4d7a4c423eda1e2adbfb3e4ff2\xfa\vrepl-offset\xc0\x00\xfa\baof-base\xc0\x00\xff>s\x89|\xcd\xfbc)"[0m
[33m[stage-23] [0m[92mReceived RDB file[0m
[33m[stage-23] [0m[92mTest passed.[0m
[33m[stage-23] [0m[36mTerminating program[0m
[33m[stage-23] [0m[36mProgram terminated successfully[0m

[33m[stage-22] [0m[94mRunning tests for Stage #22: vm3[0m
[33m[stage-22] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-22] [0m[94mclient: $ redis-cli PING[0m
[33m[stage-22] [0m[36mclient: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-22] [0m[36mclient: Received bytes: "+PONG\r\n"[0m
[33m[stage-22] [0m[36mclient: Received RESP simple string: "PONG"[0m
[33m[stage-22] [0m[92mReceived "PONG"[0m
[33m[stage-22] [0m[94mclient: > REPLCONF listening-port 6380[0m
[33m[stage-22] [0m[36mclient: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-22] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-22] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-22] [0m[92mReceived "OK"[0m
[33m[stage-22] [0m[94mclient: > REPLCONF capa psync2[0m
[33m[stage-22] [0m[36mclient: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-22] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-22] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-22] [0m[92mReceived "OK"[0m
[33m[stage-22] [0m[94mclient: > PSYNC ? -1[0m
[33m[stage-22] [0m[36mclient: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-22] [0m[36mclient: Received bytes: "+FULLRESYNC ede26167896b1d3814e3d84ec0f4ea5e723dcdc8 0\r\n"[0m
[33m[stage-22] [0m[36mclient: Received RESP simple string: "FULLRESYNC ede26167896b1d3814e3d84ec0f4ea5e723dcdc8 0"[0m
[33m[stage-22] [0m[92mReceived "FULLRESYNC ede26167896b1d3814e3d84ec0f4ea5e723dcdc8 0"[0m
[33m[stage-22] [0m[92mTest passed.[0m
[33m[stage-22] [0m[36mTerminating program[0m
[33m[stage-22] [0m[36mProgram terminated successfully[0m

[33m[stage-21] [0m[94mRunning tests for Stage #21: fj0[0m
[33m[stage-21] [0m[94m$ ./spawn_redis_server.sh --port 6379[0m
[33m[stage-21] [0m[94mclient: $ redis-cli PING[0m
[33m[stage-21] [0m[36mclient: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-21] [0m[36mclient: Received bytes: "+PONG\r\n"[0m
[33m[stage-21] [0m[36mclient: Received RESP simple string: "PONG"[0m
[33m[stage-21] [0m[92mReceived "PONG"[0m
[33m[stage-21] [0m[94mclient: > REPLCONF listening-port 6380[0m
[33m[stage-21] [0m[36mclient: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-21] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-21] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-21] [0m[92mReceived "OK"[0m
[33m[stage-21] [0m[94mclient: > REPLCONF capa psync2[0m
[33m[stage-21] [0m[36mclient: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-21] [0m[36mclient: Received bytes: "+OK\r\n"[0m
[33m[stage-21] [0m[36mclient: Received RESP simple string: "OK"[0m
[33m[stage-21] [0m[92mReceived "OK"[0m
[33m[stage-21] [0m[92mTest passed.[0m
[33m[stage-21] [0m[36mTerminating program[0m
[33m[stage-21] [0m[36mProgram terminated successfully[0m

[33m[stage-20] [0m[94mRunning tests for Stage #20: ju6[0m
[33m[stage-20] [0m[94mMaster is running on port 6379[0m
[33m[stage-20] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-20] [0m[94mmaster: Waiting for replica to initiate handshake with "PING" command[0m
[33m[stage-20] [0m[36mmaster: Received bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-20] [0m[36mmaster: Received RESP array: ["PING"][0m
[33m[stage-20] [0m[92mReceived ["PING"][0m
[33m[stage-20] [0m[94mmaster: Sent "PONG"[0m
[33m[stage-20] [0m[36mmaster: Sent bytes: "+PONG\r\n"[0m
[33m[stage-20] [0m[94mmaster: Waiting for replica to send "REPLCONF listening-port 6380" command[0m
[33m[stage-20] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-20] [0m[36mmaster: Received RESP array: ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-20] [0m[92mReceived ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-20] [0m[94mmaster: Sent "OK"[0m
[33m[stage-20] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-20] [0m[94mmaster: Waiting for replica to send "REPLCONF capa" command[0m
[33m[stage-20] [0m[36mmaster: Received bytes: "*5\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$3\r\neof\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-20] [0m[36mmaster: Received RESP array: ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-20] [0m[92mReceived ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-20] [0m[94mmaster: Sent "OK"[0m
[33m[stage-20] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-20] [0m[94mmaster: Waiting for replica to send "PSYNC" command[0m
[33m[stage-20] [0m[36mmaster: Received bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"[0m
[33m[stage-20] [0m[36mmaster: Received RESP array: ["PSYNC", "?", "-1"][0m
[33m[stage-20] [0m[92mReceived ["PSYNC", "?", "-1"][0m
[33m[stage-20] [0m[94mmaster: Sent "FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0"[0m
[33m[stage-20] [0m[36mmaster: Sent bytes: "+FULLRESYNC 75cd7bc10c49047e0d163660f3b90625b1af31dc 0\r\n"[0m
[33m[stage-20] [0m[92mTest passed.[0m
[33m[stage-20] [0m[36mTerminating program[0m
[33m[stage-20] [0m[36mProgram terminated successfully[0m

[33m[stage-19] [0m[94mRunning tests for Stage #19: eh4[0m
[33m[stage-19] [0m[94mMaster is running on port 6379[0m
[33m[stage-19] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-19] [0m[94mmaster: Waiting for replica to initiate handshake with "PING" command[0m
[33m[stage-19] [0m[36mmaster: Received bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-19] [0m[36mmaster: Received RESP array: ["PING"][0m
[33m[stage-19] [0m[92mReceived ["PING"][0m
[33m[stage-19] [0m[94mmaster: Sent "PONG"[0m
[33m[stage-19] [0m[36mmaster: Sent bytes: "+PONG\r\n"[0m
[33m[stage-19] [0m[94mmaster: Waiting for replica to send "REPLCONF listening-port 6380" command[0m
[33m[stage-19] [0m[36mmaster: Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"[0m
[33m[stage-19] [0m[36mmaster: Received RESP array: ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-19] [0m[92mReceived ["REPLCONF", "listening-port", "6380"][0m
[33m[stage-19] [0m[94mmaster: Sent "OK"[0m
[33m[stage-19] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-19] [0m[94mmaster: Waiting for replica to send "REPLCONF capa" command[0m
[33m[stage-19] [0m[36mmaster: Received bytes: "*5\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$3\r\neof\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"[0m
[33m[stage-19] [0m[36mmaster: Received RESP array: ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-19] [0m[92mReceived ["REPLCONF", "capa", "eof", "capa", "psync2"][0m
[33m[stage-19] [0m[94mmaster: Sent "OK"[0m
[33m[stage-19] [0m[36mmaster: Sent bytes: "+OK\r\n"[0m
[33m[stage-19] [0m[92mTest passed.[0m
[33m[stage-19] [0m[36mTerminating program[0m
[33m[stage-19] [0m[36mProgram terminated successfully[0m

[33m[stage-18] [0m[94mRunning tests for Stage #18: gl7[0m
[33m[stage-18] [0m[94mMaster is running on port 6379.[0m
[33m[stage-18] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-18] [0m[94mmaster: Waiting for replica to initiate handshake with "PING" command[0m
[33m[stage-18] [0m[36mmaster: Received bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-18] [0m[36mmaster: Received RESP array: ["PING"][0m
[33m[stage-18] [0m[92mReceived ["PING"][0m
[33m[stage-18] [0m[94mmaster: Sent "PONG"[0m
[33m[stage-18] [0m[36mmaster: Sent bytes: "+PONG\r\n"[0m
[33m[stage-18] [0m[92mTest passed.[0m
[33m[stage-18] [0m[36mTerminating program[0m
[33m[stage-18] [0m[36mProgram terminated successfully[0m

[33m[stage-17] [0m[94mRunning tests for Stage #17: xc1[0m
[33m[stage-17] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-17] [0m[94mclient: $ redis-cli INFO replication[0m
[33m[stage-17] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nINFO\r\n$11\r\nreplication\r\n"[0m
[33m[stage-17] [0m[36mclient: Received bytes: "$349\r\n# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:64ea88a8fb7dfc5512f9989432ebb25aaf72cc6e\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n"[0m
[33m[stage-17] [0m[36mclient: Received RESP bulk string: "# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:64ea88a8fb7dfc5512f9989432ebb25aaf72cc6e\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n"[0m
[33m[stage-17] [0m[92mReceived "# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:64ea88a8fb7dfc5512f9989432ebb25aaf72cc6e\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n"[0m
[33m[stage-17] [0m[92mFound master_replid:xxx in response.[0m
[33m[stage-17] [0m[92mFound master_reploffset:0 in response.[0m
[33m[stage-17] [0m[92mTest passed.[0m
[33m[stage-17] [0m[36mTerminating program[0m
[33m[stage-17] [0m[36mProgram terminated successfully[0m

[33m[stage-16] [0m[94mRunning tests for Stage #16: hc6[0m
[33m[stage-16] [0m[94mMaster is running on port 6379[0m
[33m[stage-16] [0m[94m$ ./spawn_redis_server.sh --port 6380 --replicaof "localhost 6379"[0m
[33m[stage-16] [0m[94mclient: $ redis-cli INFO replication[0m
[33m[stage-16] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nINFO\r\n$11\r\nreplication\r\n"[0m
[33m[stage-16] [0m[36mclient: Received bytes: "$613\r\n# Replication\r\nrole:slave\r\nmaster_host:localhost\r\nmaster_port:6379\r\nmaster_link_status:down\r\nmaster_last_io_seconds_ago:-1\r\nmaster_sync_in_progress:0\r\nslave_read_repl_offset:0\r\nslave_repl_offset:0\r\nmaster_link_down_since_seconds:0\r\nslave_priority:100\r\nslave_read_only:1\r\nreplica_announced:1\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:75cd7bc10c49047e0d163660f3b90625b1af31dc\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:1\r\nrepl_backlog_histlen:0\r\n\r\n"[0m
[33m[stage-16] [0m[36mclient: Received RESP bulk string: "# Replication\r\nrole:slave\r\nmaster_host:localhost\r\nmaster_port:6379\r\nmaster_link_status:down\r\nmaster_last_io_seconds_ago:-1\r\nmaster_sync_in_progress:0\r\nslave_read_repl_offset:0\r\nslave_repl_offset:0\r\nmaster_link_down_since_seconds:0\r\nslave_priority:100\r\nslave_read_only:1\r\nreplica_announced:1\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:75cd7bc10c49047e0d163660f3b90625b1af31dc\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:1\r\nrepl_backlog_histlen:0\r\n"[0m
[33m[stage-16] [0m[92mReceived "# Replication\r\nrole:slave\r\nmaster_host:localhost\r\nmaster_port:6379\r\nmaster_link_status:down\r\nmaster_last_io_seconds_ago:-1\r\nmaster_sync_in_progress:0\r\nslave_read_repl_offset:0\r\nslave_repl_offset:0\r\nmaster_link_down_since_seconds:0\r\nslave_priority:100\r\nslave_read_only:1\r\nreplica_announced:1\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:75cd7bc10c49047e0d163660f3b90625b1af31dc\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:1\r\nrepl_backlog_histlen:0\r\n"[0m
[33m[stage-16] [0m[92mFound role:slave in response.[0m
[33m[stage-16] [0m[92mTest passed.[0m
[33m[stage-16] [0m[36mTerminating program[0m
[33m[stage-16] [0m[36mProgram terminated successfully[0m

[33m[stage-15] [0m[94mRunning tests for Stage #15: ye5[0m
[33m[stage-15] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-15] [0m[94mclient: $ redis-cli INFO replication[0m
[33m[stage-15] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nINFO\r\n$11\r\nreplication\r\n"[0m
[33m[stage-15] [0m[36mclient: Received bytes: "$349\r\n# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:ada2c4ad46581f555626723b93a5279a28768099\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n"[0m
[33m[stage-15] [0m[36mclient: Received RESP bulk string: "# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:ada2c4ad46581f555626723b93a5279a28768099\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n"[0m
[33m[stage-15] [0m[92mReceived "# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:ada2c4ad46581f555626723b93a5279a28768099\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n"[0m
[33m[stage-15] [0m[92mFound role:master in response.[0m
[33m[stage-15] [0m[92mTest passed.[0m
[33m[stage-15] [0m[36mTerminating program[0m
[33m[stage-15] [0m[36mProgram terminated successfully[0m

[33m[stage-14] [0m[94mRunning tests for Stage #14: bw1[0m
[33m[stage-14] [0m[94m$ ./spawn_redis_server.sh --port 6382[0m
[33m[stage-14] [0m[94mConnecting to port 6382...[0m
[33m[stage-14] [0m[36mConnection successful[0m
[33m[stage-14] [0m[92mTest passed.[0m
[33m[stage-14] [0m[36mTerminating program[0m
[33m[stage-14] [0m[36mProgram terminated successfully[0m

[33m[stage-13] [0m[94mRunning tests for Stage #13: sm4[0m
[33m[stage-13] [0m[94mCreated RDB file with 3 key-value pairs: {"raspberry": "pineapple", "orange": "pear", "apple": "raspberry"}[0m
[33m[stage-13] [0m[36mHexdump of RDB file contents: [0m
[33m[stage-13] [0m[36mIdx  | Hex                                             | ASCII[0m
[33m[stage-13] [0m[36m-----+-------------------------------------------------+-----------------[0m
[33m[stage-13] [0m[36m0000 | 52 45 44 49 53 30 30 31 31 fa 09 72 65 64 69 73 | REDIS0011..redis[0m
[33m[stage-13] [0m[36m0010 | 2d 76 65 72 05 37 2e 32 2e 30 fa 0a 72 65 64 69 | -ver.7.2.0..redi[0m
[33m[stage-13] [0m[36m0020 | 73 2d 62 69 74 73 c0 40 fe 00 fb 03 03 fc 00 0c | s-bits.@........[0m
[33m[stage-13] [0m[36m0030 | 28 8a c7 01 00 00 00 09 72 61 73 70 62 65 72 72 | (.......raspberr[0m
[33m[stage-13] [0m[36m0040 | 79 09 70 69 6e 65 61 70 70 6c 65 fc 00 9c ef 12 | y.pineapple.....[0m
[33m[stage-13] [0m[36m0050 | 7e 01 00 00 00 06 6f 72 61 6e 67 65 04 70 65 61 | ~.....orange.pea[0m
[33m[stage-13] [0m[36m0060 | 72 fc 00 0c 28 8a c7 01 00 00 00 05 61 70 70 6c | r...(.......appl[0m
[33m[stage-13] [0m[36m0070 | 65 09 72 61 73 70 62 65 72 72 79 ff f7 d4 d3 00 | e.raspberry.....[0m
[33m[stage-13] [0m[36m0080 | ab 58 b4 13 0a                                  | .X...[0m
[33m[stage-13] [0m[36m[0m
[33m[stage-13] [0m[94m$ ./spawn_redis_server.sh --dir /tmp/rdbfiles3951873889 --dbfilename grape.rdb[0m
[33m[stage-13] [0m[94mclient: $ redis-cli GET raspberry[0m
[33m[stage-13] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$9\r\nraspberry\r\n"[0m
[33m[stage-13] [0m[36mclient: Received bytes: "$9\r\npineapple\r\n"[0m
[33m[stage-13] [0m[36mclient: Received RESP bulk string: "pineapple"[0m
[33m[stage-13] [0m[92mReceived "pineapple"[0m
[33m[stage-13] [0m[94mclient: > GET orange[0m
[33m[stage-13] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$6\r\norange\r\n"[0m
[33m[stage-13] [0m[36mclient: Received bytes: "$-1\r\n"[0m
[33m[stage-13] [0m[36mclient: Received RESP null bulk string: "$-1\r\n"[0m
[33m[stage-13] [0m[92mReceived "$-1\r\n"[0m
[33m[stage-13] [0m[94mclient: > GET apple[0m
[33m[stage-13] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$5\r\napple\r\n"[0m
[33m[stage-13] [0m[36mclient: Received bytes: "$9\r\nraspberry\r\n"[0m
[33m[stage-13] [0m[36mclient: Received RESP bulk string: "raspberry"[0m
[33m[stage-13] [0m[92mReceived "raspberry"[0m
[33m[stage-13] [0m[92mTest passed.[0m
[33m[stage-13] [0m[36mTerminating program[0m
[33m[stage-13] [0m[36mProgram terminated successfully[0m

[33m[stage-12] [0m[94mRunning tests for Stage #12: dq3[0m
[33m[stage-12] [0m[94mCreated RDB file with 5 key-value pairs: {"banana": "grape", "blueberry": "pear", "apple": "raspberry", "orange": "banana", "mango": "blueberry"}[0m
[33m[stage-12] [0m[36mHexdump of RDB file contents: [0m
[33m[stage-12] [0m[36mIdx  | Hex                                             | ASCII[0m
[33m[stage-12] [0m[36m-----+-------------------------------------------------+-----------------[0m
[33m[stage-12] [0m[36m0000 | 52 45 44 49 53 30 30 31 31 fa 09 72 65 64 69 73 | REDIS0011..redis[0m
[33m[stage-12] [0m[36m0010 | 2d 76 65 72 05 37 2e 32 2e 30 fa 0a 72 65 64 69 | -ver.7.2.0..redi[0m
[33m[stage-12] [0m[36m0020 | 73 2d 62 69 74 73 c0 40 fe 00 fb 05 00 00 06 62 | s-bits.@.......b[0m
[33m[stage-12] [0m[36m0030 | 61 6e 61 6e 61 05 67 72 61 70 65 00 09 62 6c 75 | anana.grape..blu[0m
[33m[stage-12] [0m[36m0040 | 65 62 65 72 72 79 04 70 65 61 72 00 05 61 70 70 | eberry.pear..app[0m
[33m[stage-12] [0m[36m0050 | 6c 65 09 72 61 73 70 62 65 72 72 79 00 06 6f 72 | le.raspberry..or[0m
[33m[stage-12] [0m[36m0060 | 61 6e 67 65 06 62 61 6e 61 6e 61 00 05 6d 61 6e | ange.banana..man[0m
[33m[stage-12] [0m[36m0070 | 67 6f 09 62 6c 75 65 62 65 72 72 79 ff af 60 d1 | go.blueberry..`.[0m
[33m[stage-12] [0m[36m0080 | 2f 14 70 b8 8d 0a                               | /.p...[0m
[33m[stage-12] [0m[36m[0m
[33m[stage-12] [0m[94m$ ./spawn_redis_server.sh --dir /tmp/rdbfiles3800697633 --dbfilename strawberry.rdb[0m
[33m[stage-12] [0m[94mclient: $ redis-cli GET banana[0m
[33m[stage-12] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$6\r\nbanana\r\n"[0m
[33m[stage-12] [0m[36mclient: Received bytes: "$5\r\ngrape\r\n"[0m
[33m[stage-12] [0m[36mclient: Received RESP bulk string: "grape"[0m
[33m[stage-12] [0m[92mReceived "grape"[0m
[33m[stage-12] [0m[94mclient: > GET blueberry[0m
[33m[stage-12] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$9\r\nblueberry\r\n"[0m
[33m[stage-12] [0m[36mclient: Received bytes: "$4\r\npear\r\n"[0m
[33m[stage-12] [0m[36mclient: Received RESP bulk string: "pear"[0m
[33m[stage-12] [0m[92mReceived "pear"[0m
[33m[stage-12] [0m[94mclient: > GET apple[0m
[33m[stage-12] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$5\r\napple\r\n"[0m
[33m[stage-12] [0m[36mclient: Received bytes: "$9\r\nraspberry\r\n"[0m
[33m[stage-12] [0m[36mclient: Received RESP bulk string: "raspberry"[0m
[33m[stage-12] [0m[92mReceived "raspberry"[0m
[33m[stage-12] [0m[94mclient: > GET orange[0m
[33m[stage-12] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$6\r\norange\r\n"[0m
[33m[stage-12] [0m[36mclient: Received bytes: "$6\r\nbanana\r\n"[0m
[33m[stage-12] [0m[36mclient: Received RESP bulk string: "banana"[0m
[33m[stage-12] [0m[92mReceived "banana"[0m
[33m[stage-12] [0m[94mclient: > GET mango[0m
[33m[stage-12] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$5\r\nmango\r\n"[0m
[33m[stage-12] [0m[36mclient: Received bytes: "$9\r\nblueberry\r\n"[0m
[33m[stage-12] [0m[36mclient: Received RESP bulk string: "blueberry"[0m
[33m[stage-12] [0m[92mReceived "blueberry"[0m
[33m[stage-12] [0m[92mTest passed.[0m
[33m[stage-12] [0m[36mTerminating program[0m
[33m[stage-12] [0m[36mProgram terminated successfully[0m

[33m[stage-11] [0m[94mRunning tests for Stage #11: jw4[0m
[33m[stage-11] [0m[94mCreated RDB file with 5 keys: ["orange", "strawberry", "apple", "banana", "grape"][0m
[33m[stage-11] [0m[36mHexdump of RDB file contents: [0m
[33m[stage-11] [0m[36mIdx  | Hex                                             | ASCII[0m
[33m[stage-11] [0m[36m-----+-------------------------------------------------+-----------------[0m
[33m[stage-11] [0m[36m0000 | 52 45 44 49 53 30 30 31 31 fa 09 72 65 64 69 73 | REDIS0011..redis[0m
[33m[stage-11] [0m[36m0010 | 2d 76 65 72 05 37 2e 32 2e 30 fa 0a 72 65 64 69 | -ver.7.2.0..redi[0m
[33m[stage-11] [0m[36m0020 | 73 2d 62 69 74 73 c0 40 fe 00 fb 05 00 00 06 6f | s-bits.@.......o[0m
[33m[stage-11] [0m[36m0030 | 72 61 6e 67 65 05 6d 61 6e 67 6f 00 0a 73 74 72 | range.mango..str[0m
[33m[stage-11] [0m[36m0040 | 61 77 62 65 72 72 79 05 67 72 61 70 65 00 05 61 | awberry.grape..a[0m
[33m[stage-11] [0m[36m0050 | 70 70 6c 65 04 70 65 61 72 00 06 62 61 6e 61 6e | pple.pear..banan[0m
[33m[stage-11] [0m[36m0060 | 61 09 62 6c 75 65 62 65 72 72 79 00 05 67 72 61 | a.blueberry..gra[0m
[33m[stage-11] [0m[36m0070 | 70 65 09 72 61 73 70 62 65 72 72 79 ff 38 8d 90 | pe.raspberry.8..[0m
[33m[stage-11] [0m[36m0080 | f3 22 1e 0f c4 0a                               | ."....[0m
[33m[stage-11] [0m[36m[0m
[33m[stage-11] [0m[94m$ ./spawn_redis_server.sh --dir /tmp/rdbfiles431667445 --dbfilename raspberry.rdb[0m
[33m[stage-11] [0m[94mclient: $ redis-cli KEYS *[0m
[33m[stage-11] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nKEYS\r\n$1\r\n*\r\n"[0m
[33m[stage-11] [0m[36mclient: Received bytes: "*5\r\n$10\r\nstrawberry\r\n$6\r\norange\r\n$5\r\napple\r\n$6\r\nbanana\r\n$5\r\ngrape\r\n"[0m
[33m[stage-11] [0m[36mclient: Received RESP array: ["strawberry", "orange", "apple", "banana", "grape"][0m
[33m[stage-11] [0m[92mReceived ["strawberry", "orange", "apple", "banana", "grape"][0m
[33m[stage-11] [0m[92mTest passed.[0m
[33m[stage-11] [0m[36mTerminating program[0m
[33m[stage-11] [0m[36mProgram terminated successfully[0m

[33m[stage-10] [0m[94mRunning tests for Stage #10: gc6[0m
[33m[stage-10] [0m[94mCreated RDB file with a single key-value pair: {"raspberry": "pear"}[0m
[33m[stage-10] [0m[36mHexdump of RDB file contents: [0m
[33m[stage-10] [0m[36mIdx  | Hex                                             | ASCII[0m
[33m[stage-10] [0m[36m-----+-------------------------------------------------+-----------------[0m
[33m[stage-10] [0m[36m0000 | 52 45 44 49 53 30 30 31 31 fa 09 72 65 64 69 73 | REDIS0011..redis[0m
[33m[stage-10] [0m[36m0010 | 2d 76 65 72 05 37 2e 32 2e 30 fa 0a 72 65 64 69 | -ver.7.2.0..redi[0m
[33m[stage-10] [0m[36m0020 | 73 2d 62 69 74 73 c0 40 fe 00 fb 01 00 00 09 72 | s-bits.@.......r[0m
[33m[stage-10] [0m[36m0030 | 61 73 70 62 65 72 72 79 04 70 65 61 72 ff 64 d8 | aspberry.pear.d.[0m
[33m[stage-10] [0m[36m0040 | a7 37 ce 1e 69 29 0a                            | .7..i).[0m
[33m[stage-10] [0m[36m[0m
[33m[stage-10] [0m[94m$ ./spawn_redis_server.sh --dir /tmp/rdbfiles4197209215 --dbfilename pear.rdb[0m
[33m[stage-10] [0m[94mclient: $ redis-cli GET raspberry[0m
[33m[stage-10] [0m[36mclient: Sent bytes: "*2\r\n$3\r\nGET\r\n$9\r\nraspberry\r\n"[0m
[33m[stage-10] [0m[36mclient: Received bytes: "$4\r\npear\r\n"[0m
[33m[stage-10] [0m[36mclient: Received RESP bulk string: "pear"[0m
[33m[stage-10] [0m[92mReceived "pear"[0m
[33m[stage-10] [0m[92mTest passed.[0m
[33m[stage-10] [0m[36mTerminating program[0m
[33m[stage-10] [0m[36mProgram terminated successfully[0m

[33m[stage-9] [0m[94mRunning tests for Stage #9: jz6[0m
[33m[stage-9] [0m[94mCreated RDB file with a single key: ["orange"][0m
[33m[stage-9] [0m[36mHexdump of RDB file contents: [0m
[33m[stage-9] [0m[36mIdx  | Hex                                             | ASCII[0m
[33m[stage-9] [0m[36m-----+-------------------------------------------------+-----------------[0m
[33m[stage-9] [0m[36m0000 | 52 45 44 49 53 30 30 31 31 fa 09 72 65 64 69 73 | REDIS0011..redis[0m
[33m[stage-9] [0m[36m0010 | 2d 76 65 72 05 37 2e 32 2e 30 fa 0a 72 65 64 69 | -ver.7.2.0..redi[0m
[33m[stage-9] [0m[36m0020 | 73 2d 62 69 74 73 c0 40 fe 00 fb 01 00 00 06 6f | s-bits.@.......o[0m
[33m[stage-9] [0m[36m0030 | 72 61 6e 67 65 05 6d 61 6e 67 6f ff c7 77 bd 73 | range.mango..w.s[0m
[33m[stage-9] [0m[36m0040 | 84 b6 3a 5d 0a                                  | ..:].[0m
[33m[stage-9] [0m[36m[0m
[33m[stage-9] [0m[94m$ ./spawn_redis_server.sh --dir /tmp/rdbfiles1160222168 --dbfilename grape.rdb[0m
[33m[stage-9] [0m[94mclient: $ redis-cli KEYS *[0m
[33m[stage-9] [0m[36mclient: Sent bytes: "*2\r\n$4\r\nKEYS\r\n$1\r\n*\r\n"[0m
[33m[stage-9] [0m[36mclient: Received bytes: "*1\r\n$6\r\norange\r\n"[0m
[33m[stage-9] [0m[36mclient: Received RESP array: ["orange"][0m
[33m[stage-9] [0m[92mReceived ["orange"][0m
[33m[stage-9] [0m[92mTest passed.[0m
[33m[stage-9] [0m[36mTerminating program[0m
[33m[stage-9] [0m[36mProgram terminated successfully[0m

[33m[stage-8] [0m[94mRunning tests for Stage #8: zg5[0m
[33m[stage-8] [0m[94m$ ./spawn_redis_server.sh --dir /tmp/rdbfiles3573703411 --dbfilename pear.rdb[0m
[33m[stage-8] [0m[94mclient: $ redis-cli CONFIG GET dir[0m
[33m[stage-8] [0m[36mclient: Sent bytes: "*3\r\n$6\r\nCONFIG\r\n$3\r\nGET\r\n$3\r\ndir\r\n"[0m
[33m[stage-8] [0m[36mclient: Received bytes: "*2\r\n$3\r\ndir\r\n$23\r\n/tmp/rdbfiles3573703411\r\n"[0m
[33m[stage-8] [0m[36mclient: Received RESP array: ["dir", "/tmp/rdbfiles3573703411"][0m
[33m[stage-8] [0m[92mReceived ["dir", "/tmp/rdbfiles3573703411"][0m
[33m[stage-8] [0m[92mTest passed.[0m
[33m[stage-8] [0m[36mTerminating program[0m
[33m[stage-8] [0m[36mProgram terminated successfully[0m

[33m[stage-7] [0m[94mRunning tests for Stage #7: yz1[0m
[33m[stage-7] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-7] [0m[94m$ redis-cli SET pear mango px 100[0m
[33m[stage-7] [0m[36mSent bytes: "*5\r\n$3\r\nSET\r\n$4\r\npear\r\n$5\r\nmango\r\n$2\r\npx\r\n$3\r\n100\r\n"[0m
[33m[stage-7] [0m[36mReceived bytes: "+OK\r\n"[0m
[33m[stage-7] [0m[36mReceived RESP simple string: "OK"[0m
[33m[stage-7] [0m[92mReceived "OK"[0m
[33m[stage-7] [0m[92mReceived OK at 17:58:25.432[0m
[33m[stage-7] [0m[94mFetching key "pear" at 17:58:25.432 (should not be expired)[0m
[33m[stage-7] [0m[94m> GET pear[0m
[33m[stage-7] [0m[36mSent bytes: "*2\r\n$3\r\nGET\r\n$4\r\npear\r\n"[0m
[33m[stage-7] [0m[36mReceived bytes: "$5\r\nmango\r\n"[0m
[33m[stage-7] [0m[36mReceived RESP bulk string: "mango"[0m
[33m[stage-7] [0m[92mReceived "mango"[0m
[33m[stage-7] [0m[36mSleeping for 101ms[0m
[33m[stage-7] [0m[94mFetching key "pear" at 17:58:25.535 (should be expired)[0m
[33m[stage-7] [0m[94m> GET pear[0m
[33m[stage-7] [0m[36mSent bytes: "*2\r\n$3\r\nGET\r\n$4\r\npear\r\n"[0m
[33m[stage-7] [0m[36mReceived bytes: "$-1\r\n"[0m
[33m[stage-7] [0m[36mReceived RESP null bulk string: "$-1\r\n"[0m
[33m[stage-7] [0m[92mReceived "$-1\r\n"[0m
[33m[stage-7] [0m[92mTest passed.[0m
[33m[stage-7] [0m[36mTerminating program[0m
[33m[stage-7] [0m[36mProgram terminated successfully[0m

[33m[stage-6] [0m[94mRunning tests for Stage #6: la7[0m
[33m[stage-6] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-6] [0m[36mSetting key blueberry to pineapple[0m
[33m[stage-6] [0m[94m$ redis-cli SET blueberry pineapple[0m
[33m[stage-6] [0m[36mSent bytes: "*3\r\n$3\r\nSET\r\n$9\r\nblueberry\r\n$9\r\npineapple\r\n"[0m
[33m[stage-6] [0m[36mReceived bytes: "+OK\r\n"[0m
[33m[stage-6] [0m[36mReceived RESP simple string: "OK"[0m
[33m[stage-6] [0m[92mReceived "OK"[0m
[33m[stage-6] [0m[36mGetting key blueberry[0m
[33m[stage-6] [0m[94m> GET blueberry[0m
[33m[stage-6] [0m[36mSent bytes: "*2\r\n$3\r\nGET\r\n$9\r\nblueberry\r\n"[0m
[33m[stage-6] [0m[36mReceived bytes: "$9\r\npineapple\r\n"[0m
[33m[stage-6] [0m[36mReceived RESP bulk string: "pineapple"[0m
[33m[stage-6] [0m[92mReceived "pineapple"[0m
[33m[stage-6] [0m[92mTest passed.[0m
[33m[stage-6] [0m[36mTerminating program[0m
[33m[stage-6] [0m[36mProgram terminated successfully[0m

[33m[stage-5] [0m[94mRunning tests for Stage #5: qq0[0m
[33m[stage-5] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-5] [0m[94m$ redis-cli ECHO raspberry[0m
[33m[stage-5] [0m[36mSent bytes: "*2\r\n$4\r\nECHO\r\n$9\r\nraspberry\r\n"[0m
[33m[stage-5] [0m[36mReceived bytes: "$9\r\nraspberry\r\n"[0m
[33m[stage-5] [0m[36mReceived RESP bulk string: "raspberry"[0m
[33m[stage-5] [0m[92mReceived "raspberry"[0m
[33m[stage-5] [0m[92mTest passed.[0m
[33m[stage-5] [0m[36mTerminating program[0m
[33m[stage-5] [0m[36mProgram terminated successfully[0m

[33m[stage-4] [0m[94mRunning tests for Stage #4: zu2[0m
[33m[stage-4] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-4] [0m[94mclient-1: $ redis-cli PING[0m
[33m[stage-4] [0m[36mclient-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-4] [0m[36mclient-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-4] [0m[36mclient-1: Received RESP simple string: "PONG"[0m
[33m[stage-4] [0m[92mReceived "PONG"[0m
[33m[stage-4] [0m[94mclient-2: $ redis-cli PING[0m
[33m[stage-4] [0m[36mclient-2: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-4] [0m[36mclient-2: Received bytes: "+PONG\r\n"[0m
[33m[stage-4] [0m[36mclient-2: Received RESP simple string: "PONG"[0m
[33m[stage-4] [0m[92mReceived "PONG"[0m
[33m[stage-4] [0m[94mclient-1: > PING[0m
[33m[stage-4] [0m[36mclient-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-4] [0m[36mclient-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-4] [0m[36mclient-1: Received RESP simple string: "PONG"[0m
[33m[stage-4] [0m[92mReceived "PONG"[0m
[33m[stage-4] [0m[94mclient-1: > PING[0m
[33m[stage-4] [0m[36mclient-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-4] [0m[36mclient-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-4] [0m[36mclient-1: Received RESP simple string: "PONG"[0m
[33m[stage-4] [0m[92mReceived "PONG"[0m
[33m[stage-4] [0m[94mclient-2: > PING[0m
[33m[stage-4] [0m[36mclient-2: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-4] [0m[36mclient-2: Received bytes: "+PONG\r\n"[0m
[33m[stage-4] [0m[36mclient-2: Received RESP simple string: "PONG"[0m
[33m[stage-4] [0m[92mReceived "PONG"[0m
[33m[stage-4] [0m[36mclient-1: Success, closing connection...[0m
[33m[stage-4] [0m[94mclient-3: $ redis-cli PING[0m
[33m[stage-4] [0m[36mclient-3: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-4] [0m[36mclient-3: Received bytes: "+PONG\r\n"[0m
[33m[stage-4] [0m[36mclient-3: Received RESP simple string: "PONG"[0m
[33m[stage-4] [0m[92mReceived "PONG"[0m
[33m[stage-4] [0m[36mclient-2: Success, closing connection...[0m
[33m[stage-4] [0m[36mclient-3: Success, closing connection...[0m
[33m[stage-4] [0m[92mTest passed.[0m
[33m[stage-4] [0m[36mTerminating program[0m
[33m[stage-4] [0m[36mProgram terminated successfully[0m

[33m[stage-3] [0m[94mRunning tests for Stage #3: wy1[0m
[33m[stage-3] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-3] [0m[94mclient-1: $ redis-cli PING[0m
[33m[stage-3] [0m[36mclient-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-3] [0m[36mclient-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-3] [0m[36mclient-1: Received RESP simple string: "PONG"[0m
[33m[stage-3] [0m[92mReceived "PONG"[0m
[33m[stage-3] [0m[94mclient-1: > PING[0m
[33m[stage-3] [0m[36mclient-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-3] [0m[36mclient-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-3] [0m[36mclient-1: Received RESP simple string: "PONG"[0m
[33m[stage-3] [0m[92mReceived "PONG"[0m
[33m[stage-3] [0m[94mclient-1: > PING[0m
[33m[stage-3] [0m[36mclient-1: Sent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-3] [0m[36mclient-1: Received bytes: "+PONG\r\n"[0m
[33m[stage-3] [0m[36mclient-1: Received RESP simple string: "PONG"[0m
[33m[stage-3] [0m[92mReceived "PONG"[0m
[33m[stage-3] [0m[36mSuccess, closing connection...[0m
[33m[stage-3] [0m[92mTest passed.[0m
[33m[stage-3] [0m[36mTerminating program[0m
[33m[stage-3] [0m[36mProgram terminated successfully[0m

[33m[stage-2] [0m[94mRunning tests for Stage #2: rg2[0m
[33m[stage-2] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-2] [0m[36mConnection established, sending ping command...[0m
[33m[stage-2] [0m[94m$ redis-cli PING[0m
[33m[stage-2] [0m[36mSent bytes: "*1\r\n$4\r\nPING\r\n"[0m
[33m[stage-2] [0m[36mReceived bytes: "+PONG\r\n"[0m
[33m[stage-2] [0m[36mReceived RESP simple string: "PONG"[0m
[33m[stage-2] [0m[92mReceived "PONG"[0m
[33m[stage-2] [0m[92mTest passed.[0m
[33m[stage-2] [0m[36mTerminating program[0m
[33m[stage-2] [0m[36mProgram terminated successfully[0m

[33m[stage-1] [0m[94mRunning tests for Stage #1: jm1[0m
[33m[stage-1] [0m[94m$ ./spawn_redis_server.sh[0m
[33m[stage-1] [0m[94mConnecting to port 6379...[0m
[33m[stage-1] [0m[36mConnection successful[0m
[33m[stage-1] [0m[92mTest passed.[0m
[33m[stage-1] [0m[36mTerminating program[0m
[33m[stage-1] [0m[36mProgram terminated successfully[0m
